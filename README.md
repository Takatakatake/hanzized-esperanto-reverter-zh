# 汉字化世界语 → 字母转换应用

## 概述
这是一个Streamlit应用程序，用于将用汉字表示的世界语词根还原为原始字母表示。

## 功能
- ✅ 使用默认对照表
- ✅ 支持上传自定义CSV文件
- ✅ 支持汉字和字母混合的文本
- ✅ 正确处理特殊字符（ʜ, ɪ, ʟ, ᴠ等）
- ✅ 转换结果全部输出为小写
- ✅ 可下载为文本文件

## 安装

### 1. 安装必要的包
```bash
pip install streamlit pandas
```

### 2. 文件布置
将以下文件放在同一目录中：
- `esperanto_converter_zh.py` - Streamlit应用程序（中文版）
- `エスペラント語根-漢字対応表_スニペット用最小限.csv` - 默认对照表（可选）

## 运行方法

### 在本地环境运行
```bash
streamlit run esperanto_converter_zh.py
```

如果浏览器没有自动打开，请访问以下URL：
```
http://localhost:8501
```

## 使用方法

### 1. 设置CSV文件
- **默认模式**：直接使用（推荐）
- **自定义模式**：在侧边栏勾选"使用自定义CSV文件"，上传您自己的CSV文件

### 2. 输入汉字化世界语文本
在左侧文本区域输入汉字化的世界语文本。

**输入示例：**
```
我 听is, ke 间 反更 比 周o 和 从 二 多样aj 人ʜoj 内 反同aj 处ʟoj, ke kumino 很 好e 适as 为 la 羊物a 大盘o "jingisukan".
```

### 3. 执行转换
点击"🔄 转换"按钮。

### 4. 确认结果
在右侧文本区域显示转换后的字母世界语文本。

**输出示例：**
```
mi aŭdis, ke inter kontraŭpli ol semajno kaj de du multaj homoj inter kontraŭsamaj lokoj, ke kumino tre bone taŭgas por la ŝafaĵa grandplado "jingisukan".
```

### 5. 下载（可选）
点击"📥 下载文本"按钮，将转换结果保存为文本文件。

## CSV文件格式

如果使用自定义CSV文件，请遵循以下格式：

```csv
エスペラント語根,漢字
mi,我
aŭd,听
kun,共
inter,内
```

### 格式详情
- **第1列**：世界语词根（字母）
- **第2列**：对应的汉字（可能包含特殊字符）
- **标题行**：不需要
- **编码**：UTF-8

### 关于特殊字符
当同一个汉字对应多个词根时，使用特殊字符进行区分：

```csv
oni,人ᴏ
hom,人ʜ
lok,处ʟ
viand,肉ᴠ
```

## 工作原理

1. 从CSV文件创建 汉字→世界语词根 的字典
2. 逐字符扫描输入文本
3. 检测到汉字（+特殊字符）后，从字典中转换为相应的词根
4. 保留字母、数字、符号
5. 最后全部转换为小写

## 常见问题

### 找不到默认CSV文件
请将CSV文件放在以下路径：
```
/mnt/user-data/uploads/エスペラント語根-漢字対応表_スニペット用最小限.csv
```

或者在侧边栏勾选"使用自定义CSV文件"，上传您自己的CSV文件。

### 转换不正确
- 请检查CSV文件格式
- 请检查汉字和特殊字符的组合是否正确
- 请检查输入文本格式是否正确

## 转换示例

### 示例文本

**输入（汉字化世界语）：**
```
我 听is, ke kumino 很 好e 适as 为 la 羊物a 大盘o.
```

**输出（字母世界语）：**
```
mi aŭdis, ke kumino tre bone taŭgas por la ŝafaĵa plado.
```

**中文翻译：**
"我听说，孜然非常适合羊肉大盘（料理）。"

## 关于世界语

世界语（Esperanto）是一种人工语言，由波兰眼科医生柴门霍夫（L. L. Zamenhof）于1887年创立。它的目标是成为一种易学的国际辅助语言，促进不同语言背景的人们之间的交流。

## 许可证
本应用程序可自由使用和修改。

## 联系方式
如有问题或建议，请联系开发者。

---
创建日期：2025年10月2日
版本：1.0（中文版）
